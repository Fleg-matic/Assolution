# Configuration SonarQube pour Assolution
sonar.projectKey=assolution
sonar.projectName=Assolution - Inscriptions Platform
sonar.projectVersion=1.0

# Organisation SonarCloud (remplacer par votre organisation)
sonar.organization=fleg-matic

# Informations du projet
sonar.projectDescription=Plateforme d'inscriptions Assolution - Backend Spring Boot et Frontend Angular
sonar.links.homepage=http://192.168.1.22
sonar.links.ci=https://github.com/Fleg-matic/Assolution/actions
sonar.links.scm=https://github.com/Fleg-matic/Assolution
sonar.links.issue=https://github.com/Fleg-matic/Assolution/issues

# ===============================
# CONFIGURATION DES SOURCES
# ===============================

# Répertoires source
sonar.sources=inscriptions/inscription-backend/src/main,inscriptions/inscription-frontend/src
sonar.tests=inscriptions/inscription-backend/src/test,inscriptions/inscription-frontend/src,cypress

# Binaires (pour Java)
sonar.java.binaries=inscriptions/inscription-backend/target/classes
sonar.java.test.binaries=inscriptions/inscription-backend/target/test-classes

# Librairies (pour Java)
sonar.java.libraries=inscriptions/inscription-backend/target/dependency/*.jar

# ===============================
# EXCLUSIONS
# ===============================

# Fichiers à exclure de l'analyse
sonar.exclusions=\
  **/node_modules/**,\
  **/target/**,\
  **/dist/**,\
  **/build/**,\
  **/*.spec.ts,\
  **/*.spec.js,\
  **/test/**,\
  **/tests/**,\
  **/*.min.js,\
  **/*.min.css,\
  **/vendor/**,\
  **/assets/**,\
  **/*.d.ts,\
  **/polyfills.ts,\
  **/environment*.ts,\
  **/main.ts

# Exclusions pour les tests
sonar.test.exclusions=\
  **/src/test/**,\
  **/*.spec.ts,\
  **/*.spec.js,\
  **/*.test.ts,\
  **/*.test.js,\
  **/cypress/**

# Exclusions pour la couverture
sonar.coverage.exclusions=\
  **/*.spec.ts,\
  **/*.spec.js,\
  **/*.test.ts,\
  **/*.test.js,\
  **/test/**,\
  **/tests/**,\
  **/cypress/**,\
  **/node_modules/**,\
  **/dist/**,\
  **/target/**,\
  **/polyfills.ts,\
  **/environment*.ts,\
  **/main.ts,\
  **/*Module.ts,\
  **/*.config.ts,\
  **/*.config.js

# Exclusions pour la duplication
sonar.cpd.exclusions=\
  **/*.spec.ts,\
  **/*.spec.js,\
  **/test/**,\
  **/tests/**

# ===============================
# CONFIGURATION JAVA (BACKEND)
# ===============================

# Version Java
sonar.java.source=21

# Rapports de couverture
sonar.coverage.jacoco.xmlReportPaths=inscriptions/inscription-backend/target/site/jacoco/jacoco.xml
sonar.junit.reportPaths=inscriptions/inscription-backend/target/surefire-reports

# ===============================
# CONFIGURATION TYPESCRIPT/ANGULAR (FRONTEND)
# ===============================

# Configuration TypeScript
sonar.typescript.lcov.reportPaths=inscriptions/inscription-frontend/coverage/lcov.info
sonar.typescript.tsconfigPath=inscriptions/inscription-frontend/tsconfig.json

# Rapports de tests
sonar.testExecutionReportPaths=inscriptions/inscription-frontend/reports/sonar-report.xml

# ===============================
# CONFIGURATION CYPRESS (E2E)
# ===============================

# Rapports Cypress
sonar.testExecutionReportPaths=cypress/reports/sonar-report.xml

# ===============================
# RÈGLES DE QUALITÉ
# ===============================

# Profil de qualité (utiliser le profil par défaut de SonarQube)
# sonar.profile=Sonar%20way

# Seuils de qualité
sonar.qualitygate.wait=true

# ===============================
# CONFIGURATION DE SÉCURITÉ
# ===============================

# Analyse des vulnérabilités de sécurité
sonar.security.hotspots.reviewPriority=HIGH

# ===============================
# PARAMÈTRES AVANCÉS
# ===============================

# Verbosité des logs
sonar.verbose=false

# Analyse incrémentale (pour les branches)
sonar.pullrequest.github.repository=Fleg-matic/Assolution

# Configuration des branches
sonar.branch.name=${GITHUB_REF_NAME}

# ===============================
# MÉTRIQUES PERSONNALISÉES
# ===============================

# Taille maximale des fichiers à analyser
sonar.filesize.limit=1048576

# Timeout pour l'analyse
sonar.analysis.timeout=300

# ===============================
# COMMENTAIRES ET DOCUMENTATION
# ===============================

# Patterns pour les commentaires TODO/FIXME
sonar.issue.ignore.multicriteria=e1,e2
sonar.issue.ignore.multicriteria.e1.ruleKey=java:S1135
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.java
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1135
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.ts

# ===============================
# INTÉGRATION GITHUB
# ===============================

# Configuration pour les pull requests
sonar.pullrequest.provider=github
sonar.pullrequest.github.endpoint=https://api.github